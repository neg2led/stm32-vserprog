language: c
dist: bionic
addons:
  apt:
    packages:
      - gcc-arm-none-eabi
      - libnewlib-arm-none-eabi

script:
  - for board in $(ls boards/*.h | cut -d/ -f2 | cut -d. -f1); do
      echo "testbuild for board \"$board\"";
      make BOARD="$board" || return 1;
    done
  - make distclean
